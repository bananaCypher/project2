{"version":3,"sources":["webpack:///webpack/bootstrap b1066052bc7530000cb9","webpack:///./src/index.js","webpack:///./src/models/target.js","webpack:///./src/getUser.js","webpack:///./src/models/user.js","webpack:///./src/models/investment.js","webpack:///./src/models/senseChecker.js","webpack:///./src/models/specs/shareSample.js","webpack:///./src/models/portfolio.js","webpack:///./src/models/share.js","webpack:///./src/basicDisplay.js","webpack:///./src/charts/scatterChart.js","webpack:///./src/charts/pieChart.js","webpack:///./src/charts/gaugeChart.js","webpack:///./src/charts/chartStyles.js","webpack:///./src/notification.js","webpack:///./src/investmentInfo.js","webpack:///./src/charts/singleScatterChart.js","webpack:///./src/targets.js","webpack:///./src/targetForm.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,mBAAmB,OAAO;AAC/E;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kC;AACA,kD;AACA,KAAI;AACJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6C;AACA;AACA;AACA;AACA;;;;;;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI,wB;AACJ,gCAA+B;AAC/B,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,Q;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,E;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,2BAA2B;AACzD,+CAA8C,2BAA2B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,qD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,uC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,8B;AACA,Q;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,6B;;;;;;AClCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACrGA;;AAEA;AACA,yB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,mBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA,IAAG;AACH;AACA,uBAAsB,gBAAgB;AACtC,IAAG;AACH;AACA,uBAAsB,WAAW;AACjC,IAAG;AACH;AACA;AACA;AACA,gE;AACA;AACA;AACA;AACA,oB;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACtGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzCA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA,W;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA;;;;;;;ACzDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA;;;;;;;AC3BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,YAAW;;;;;AAKX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;;;;;AAKf;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,qFAAoF;AACpF,6FAA4F,EAAE;AAC9F,8CAA6C;AAC7C,gBAAe;AACf;AACA;AACA;AACA,cAAa;;AAEb,YAAW;AACX;;AAEA;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA,0BAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,8B;;;;;;AC1MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,4B;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sC;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,2CAA0C,sBAAsB;AAChE;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;AACA,uC;AACA,2C;AACA,4C;AACA,6C;AACA,4C;AACA,8C;AACA,6C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1MA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;AACA;AACA;AACA;AACA,W;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA;;;;;;;AC3DA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;AC5CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,Q;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;;;AAGP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA,mC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b1066052bc7530000cb9\n **/","var Target = require('./models/target.js')\nvar Barry;\nvar getUser = require('./getUser.js');\ngetUser('Barry Manilow', function(user) {\n  Barry = user;\n  init();\n});\n\nvar index = require('./basicDisplay.js');\nvar scatterChart = require('./charts/scatterChart.js');\nvar pieChart = require('./charts/pieChart.js');\nvar gaugeChart = require('./charts/gaugeChart.js');\nvar chartStyles = require('./charts/chartStyles.js');\nvar NotificationArea = require('./notification.js');\nvar senseChecker = require('./models/senseChecker.js');\nvar timer = {\n  time: 10000,\n  timer: undefined,\n  startPriceUpdating: function(){\n    this.timer = setInterval(getLatestShareInfo, this.time);\n  },\n  stopPriceUpdating: function(){\n    console.log('stopping', this.timer);\n    clearInterval(this.timer);\n  }\n};\nvar showInvestmentInfo = require('./investmentInfo.js')(timer);\nvar notificationArea;\n\n\nvar updateShare = function(share){\n  var request = new XMLHttpRequest();\n  request.open('GET', '/share/' + share.epic);\n  request.onload = function(){\n    if (request.status === 200) {\n      var newPrice = Number(request.responseText);\n      if (newPrice != share.currentPrice) {\n        share.currentPrice = newPrice;\n      }\n    }\n  };\n  request.send(null);\n}\n\nvar setUpPriceWatchers = function(){\n  for (var investment of Barry.portfolio.investments) {\n    var share = investment.share\n    Object.observe(share, function(changes){\n      for (var change of changes) {\n        if(change.name == 'currentPrice') {\n          var share = change.object;\n          if (change.oldValue > share.currentPrice) {var type = 'error'} else {var type = 'success'}\n            notificationArea.newNotification({\n              title: share.epic + ' price changed',\n              content: share.epic + ' has changed price from ' + change.oldValue + ' to ' + share.currentPrice,\n              type: type\n            });\n        }\n      }\n      Barry.save();\n    });\n  }\n}\n\nvar getLatestShareInfo = function(){\n  var investments = Barry.portfolio.investments;\n  for (var investment of investments) {\n    var share = investment.share;\n    updateShare(share);\n  }\n}\n\n\nvar init = function(){\n  console.log('I have loaded');\n  var shareSelect = document.getElementById('shareSelect');\n  var portfolioButton = document.getElementById('portfolioView');\n  var targetsButton = document.getElementById('targetsButton');\n  var twitterButton = document.getElementById('twitterButton')\n  var portfolioInfo = document.getElementById('portfolioInfo');\n  var investmentInfo = document.getElementById('investmentInfo');\n  var twitterInfo = document.getElementById('twitterInfo')\n\n  var errorList = document.getElementById('errorNotifications');\n  var errorImage = document.getElementById('errorImage');\n\n  errorImage.onclick = function(){\n    errorList.style.width = \"295px\";\n    errorList.firstChild.style.display = \"inline-block\";\n    errorImage.style.display = \"none\"\n    setTimeout(function(){\n     errorList.style.width = \"0\"; \n     errorList.firstChild.style.display = \"none\"; \n   }, 4000)\n  }\n\n// ERRORLIST POPULATION\n\n  Object.observe(senseChecker.errorList, function(changes){\n    errorList.innerHTML = '';\n    errorImage.style.display = \"inline-block\";\n    var li = document.createElement('li');\n    li.innerText = senseChecker.errorList[senseChecker.errorList.length - 1];\n    errorList.appendChild(li);\n  });\n\nHighcharts.setOptions(chartStyles);\n\nindex.populateSelect(Barry);\nindex.displayCurrentPortfolioValue(Barry);\nindex.displayLargestPercChange(Barry);\nindex.displayAccountBalance(Barry);\n\n  shareSelect.onchange = function(){\n    portfolioInfo.style.display = \"none\";\n    targetsInfo.style.display = \"none\";\n    investmentInfo.style.display = \"block\";\n    showInvestmentInfo(shareSelect.value, Barry);\n  };\n\n  var hideAllInfoWindows = function(){\n    investmentInfo.style.display = \"none\";\n    targetsInfo.style.display = \"none\";\n    portfolioInfo.style.display = \"none\";\n    twitterInfo.style.display = \"none\";\n  }\n  \n  portfolioButton.onclick = function(){\n    hideAllInfoWindows();\n    portfolioInfo.style.display = \"block\";\n    targetsView.innerHTML = \"\";\n    new pieChart(Barry.portfolio);\n    new scatterChart();\n  };\n\n  targetsButton.onclick = function(){\n    hideAllInfoWindows();\n    targetsInfo.style.display = \"block\";\n    targetsView.innerHTML = \"\";\n    showTargets();\n  };\n\n  twitterButton.onclick = function(){\n    hideAllInfoWindows();\n    twitterInfo.style.display = \"block\";\n  }\n\n  notificationArea = new NotificationArea();  \n  var showTargets = require('./targetForm.js')(notificationArea, Barry);\n  setUpPriceWatchers();\n  timer.startPriceUpdating();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","// Target accepts an object and a callback to be run when the target has been met e.g.\n// var target = new Target({\n//  object: myObj, //The object you want the target to be on.\n//  property: 'myProperty', //This is the property of the object you want the target to be for, this can be a function as long as it requires no parameters.\n//  check: 'gt', //This is the check you want to do gt is greater than, you can also use gte, eq, lt and lte.\n//  target: 200, //This is the value you want your target to reach.\n//  checkTime: 1000, //The interval you want to check if you have reached your target in ms.\n//  description: 'Get myProperty to above 200', //The description you want to give the Target, this will be returned with callback\n// }, function(description){ \n//    console.log(description); //The callback function\n// });\nvar Target = function(params, callback){\n  this.object = params.object;\n  this.property = params.property;\n  this.check = params.check;\n  this.target = params.target;\n  this.checkTime = params.checkTime || 1000;\n  this.description = params.description || this.property + ' ' + this.check + ' ' + this.target;\n  this.callback = callback;\n  this.complete = false;\n  this.startingValue;\n  if (typeof(this.object[this.property]) == 'function') {\n    this.startingValue = this.object[this.property]();\n  } else {\n    this.startingValue = this.object[this.property];\n  }\n  this.observeFunction = function(){\n    for (var key in this.object) {\n      if(key == this.property || typeof(this.object[this.property]) == 'function'){\n        var result = this.hasMetTarget();\n        if(result == true){\n          this.complete = true;\n          this.callback(this.description);\n          return;\n        } else {\n          this.setupWatcher();\n          return;\n        }\n      } \n    }\n  }.bind(this);\n  this.observeFunction();\n}\nTarget.prototype = {\n  fullCheck: function(){\n    switch(this.check) {\n      case 'gt':\n        return 'greater than';\n        break;\n      case 'gte':\n        return 'greater than or equal to'\n        break;\n      case 'eq':\n        return 'equal to'\n        break;\n      case 'lte':\n        return 'less than or equal to'\n        break;\n      case 'lt':\n        return 'less than'\n        break;\n    }\n  },\n  setupWatcher: function(){\n    setTimeout(this.observeFunction, this.checkTime);\n  },\n  currentValue: function(){\n    if (typeof(this.object[this.property]) == 'function') {\n      var value = this.object[this.property]();\n    } else {\n      var value = this.object[this.property];\n    }\n    return value;\n  },\n  hasMetTarget: function(){\n    var property = this.currentValue();\n    switch(this.check) {\n      case 'gt':\n        if(property > this.target){\n          return true;\n        }\n        break;\n      case 'gte':\n        if(property >= this.target){\n          return true;\n        }\n        break;\n      case 'eq':\n        if(property == this.target){\n          return true;\n        }\n        break;\n      case 'lte':\n        if(property <= this.target){\n          return true;\n        }\n        break;\n      case 'lt':\n        if(property < this.target){\n          return true;\n        }\n        break;\n    }\n  }\n}\n\nmodule.exports = Target;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/target.js\n ** module id = 1\n ** module chunks = 0\n **/","var User = require('./models/user.js');\nvar Portfolio = require('./models/portfolio.js');\nvar Investment = require('./models/investment.js');\nvar Share = require('./models/share.js');\nvar Target = require('./models/target.js');\nvar Barry;\n\nvar getUser = function (userName, callback) {\n  var request = new XMLHttpRequest();\n  request.open('GET', '/user/' + userName);\n  request.onload = function(){\n    if (request.status === 200) {\n      data = JSON.parse(request.responseText);\n      Barry = new User(data.name, data._id);\n      Barry.accountBalance = data.accountBalance;\n      Barry.insideTrader = data.insideTrader;\n\n      barryPortfolio = new Portfolio();\n      for (var investment of data.portfolio.investments) {\n        var newShare = new Share({\n          name: investment.share.shareName,\n          epic: investment.share.epic,\n          location: investment.share.location,\n          price: investment.share.currentPrice,\n          pastCloseOfDayPrices: investment.share.pastCloseOfDayPrices\n        }); \n        var newInvestment = new Investment(newShare, investment);\n        barryPortfolio.investments.push(newInvestment);\n      }\n      Barry.portfolio = barryPortfolio;\n      callback(Barry);\n    }\n  };\n  request.send(null);\n};\n\nmodule.exports = getUser;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/getUser.js\n ** module id = 2\n ** module chunks = 0\n **/","var Investment = require('./investment.js');\nvar senseChecker = require('./senseChecker.js');\n\nvar User = function(name, id){\n  this.name = name,\n  this.id = id,\n  this.portfolio = undefined,\n  this.accountBalance = 500000,\n  this.targets = []\n};\n\nUser.prototype = {\n  buyShares: function(share, quantity, params){\n    var outlay = share.currentPrice * quantity;\n    if(senseChecker.isShare(share.shareName) && senseChecker.isQuantity(quantity) && senseChecker.maxedAccount(this.accountBalance, outlay)){\n      if(this.portfolio.find({shareName: share.shareName})){\n        var investment = this.portfolio.find({shareName: share.shareName})\n          investment.quantity += quantity;\n      }\n      else {\n        var investment = new Investment(share, params);\n        investment.quantity = quantity;\n        investment.buyPrice = share.currentPrice;\n        this.portfolio.addInvestment(investment);\n      }\n      this.accountBalance -= outlay;\n    }\n  },\n  sellShares: function(investment, quantity){\n    var outlay = investment.share.currentPrice * quantity;\n    if(senseChecker.isInvestment(investment, this)){    \n      if(investment.quantity >= quantity){\n        investment.quantity -= quantity;\n        this.accountBalance += outlay;\n      }\n      else if(investment.quantity <= quantity){\n        var difference = quantity - investment.quantity\n          senseChecker.errorMessage('10: you are ' + difference + ' shares short');\n      }\n    }\n  },\n  sellShort: function(share, quantity, params){\n    if(senseChecker.isShare(share.shareName)){\n      var outlay = share.currentPrice * quantity;\n      var investment = new Investment(share, params);\n      investment.quantity = quantity;\n      investment.short = true;\n      this.portfolio.addInvestment(investment);\n      this.accountBalance += outlay;\n    }\n  },\n  buyShort: function(investment, quantity){\n    var outlay = investment.share.currentPrice * investment.quantity;\n    if(senseChecker.maxedAccount(this.accountBalance, outlay) && senseChecker.isInvestment(investment, this)){\n      if(!investment.short){\n        senseChecker.errorMessage('9: this investment is not a short sale');\n      }\n      else{\n        if(investment.quantity < quantity){\n          investment.quantity -= quantity;\n        }\n        else{\n          this.portfolio.removeInvestment(investment, this);\n        }\n        this.accountBalance -= outlay;\n      }\n    }\n  },\n  spreadRumours: function(share, percentage){\n    if(senseChecker.isShare(share.shareName)){\n      share.crashValue(percentage);\n    }\n  },\n  pumpStock: function(share, percentage){\n    if(senseChecker.isShare(share.shareName)){\n      share.inflateValue(percentage);\n    }\n  },\n  pumpRegion: function(region, percentage){\n    if(senseChecker.isRegion(region)){\n      for(investment of this.portfolio.investments){\n        var share = investment.share;\n        if(share.location === region){\n          this.pumpStock(share, percentage);\n        }\n      }\n    }\n  },\n  crashRegion: function(region, percentage){\n    if(senseChecker.isRegion(region)){    \n      for(investment of this.portfolio.investments){\n        var share = investment.share;\n        if(share.location === region){\n          this.spreadRumours(share, percentage);\n        }\n      }\n    }\n  },\n\n  save: function(){\n    var request = new XMLHttpRequest();\n    request.open('POST', '/user/' + this.id);\n    request.setRequestHeader('Content-Type', 'application/json');\n    request.send(JSON.stringify(this));\n  },\n  findTargetsByShareName: function(shareName){\n    var targets = [];\n    for (var target of this.targets) {\n      if (target.object.shareName == shareName) {\n        targets.push(target); \n      } \n    }\n    return targets;\n  }\n}\n\nmodule.exports = User;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/user.js\n ** module id = 3\n ** module chunks = 0\n **/","var Investment = function(share, params){\n  this.share = share;\n  this.shareName = share.shareName;\n  this.quantity = params.quantity;\n  this.buyPrice = params.buyPrice;\n  this.buyDate = params.buyDate;\n  this.short = false;\n};\n\nInvestment.prototype = {\n  currentValue: function(){\n    return this.share.currentPrice * this.quantity;\n  },\n  buyDateValue: function(){\n    return this.buyPrice * this.quantity;\n  },\n  valueChange: function(measurement){\n    var priceChange = this.currentValue() - this.buyDateValue();\n    if(measurement === \"price\"){\n      return priceChange;\n    }\n    else if(measurement === \"percentage\"){\n      return (priceChange / this.buyDateValue()) * 100;\n    }\n  },\n  sevenDayAverage: function(){\n    var total = 0;\n    for(price of this.share.pastCloseOfDayPrices){\n      total += price;\n    }\n    return total / 7;\n  },\n};\n\nmodule.exports = Investment;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/investment.js\n ** module id = 4\n ** module chunks = 0\n **/","var shareSample = require('./specs/shareSample.js');\n\nvar senseChecker = {\n  errorList: [],\n\n  validInvestments: function(user){\n    var investments = user.portfolio.investments;\n    return investments;\n  },\n\n  validRegions: function(sample){\n    var regionArray = []\n    for(entry of sample){\n      if(entry.location != regionArray[0] && entry.location != regionArray[1] && entry.location != regionArray[2]){\n        regionArray.push(entry.location);\n      }\n    }\n    return regionArray;\n  },\n\n  validShares: function(sample){\n    var shareArray = [];\n    for(entry of sample){\n      shareArray.push(entry);\n    }\n    return shareArray;\n  },\n\n  errorMessage: function(error){\n    var error = 'Error #' + error;\n    var newErrorList = this.errorList;\n    newErrorList.push(error);\n    this.errorList = newErrorList;\n  },\n\n  isNotNegative: function(quantity){\n    if(quantity <= 0){\n      this.errorMessage('2: cannot use negative number');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  isBelowMax: function(quantity, investment){\n    if(quantity > investment.quantity){\n      return false;\n      this.errorMessage('3: more shares than available');\n    }\n    else{\n      return true;\n    }\n  },\n\n  isInvestment: function(investment, user){\n    var filtered = this.validInvestments(user).filter(function(value){\n      return value === investment;\n    });\n    if(filtered.length == 0){\n      this.errorMessage('4: not an investment');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  isShare: function(shareName){\n    var filtered = [];\n    for(entry of this.validShares(shareSample)){\n      if(entry.name === shareName){\n        filtered.push(entry)\n      }\n    }\n    if(filtered.length == 0){\n      this.errorMessage('1: is not a share');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  isRegion:  function(region){\n    var filtered = [];\n    for(entry of this.validRegions(shareSample)){\n      if(entry === region){\n        filtered.push(entry);\n      }\n    }\n    if (filtered.length == 0){\n      this.errorMessage('5: not a region');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  isGoodPercentage: function(percentage){\n    if(percentage >= 100){\n      this.errorMessage('6: cannot reduce by 100% or more');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  maxedAccount: function(userBalance, spend){\n    if(userBalance < spend){\n      this.errorMessage('7: not enough money');\n      return false;\n    }\n    else{\n      return true;\n    }\n  },\n\n  isQuantity: function(quantity){\n    if((typeof(quantity) != 'number') || (isNaN(quantity))) {\n      this.errorMessage('8: not a number');\n      return false;\n    }\n    else{\n      return true;\n    }\n  }\n}\n\nmodule.exports = senseChecker;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/senseChecker.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = [\n    {\n      \"name\": \"Fusionex\",\n      \"epic\":\"FXI\",\n      \"location\": \"USA\",\n      \"price\": 120.00,\n      \"quantity\": 2000,\n      \"buyPrice\": 80.00,\n      \"pastCloseOfDayPrices\": [92.00, 89.00, 103.00, 125.00, 108.00, 98.00, 110.00],\n      \"buyDate\":\"2014-11-15\"\n    },\n    {\n      \"name\": \"Empiric Student Prop\",\n      \"epic\":\"ESP\",\n      \"location\": \"UK\",\n      \"price\": 112.00,\n      \"quantity\": 3500,\n      \"buyPrice\": 100.00,\n      \"pastCloseOfDayPrices\": [90.00, 78.50, 82.50, 110.00, 109.00, 109.00, 110.50],\n      \"buyDate\":\"2013-10-23\"\n    },\n    {\n      \"name\": \"Worldpay\",\n      \"epic\":\"WPG\",\n      \"location\": \"China\",\n      \"price\": 301.00,\n      \"quantity\": 1000,\n      \"buyPrice\": 209.40,\n      \"pastCloseOfDayPrices\": [232.60, 220.00, 222.00, 221.60, 240.00, 238.00, 235.40],\n      \"buyDate\":\"2015-12-22\"\n    },\n    {\n      \"name\": \"Pets At Home\",\n      \"epic\":\"PETS\",\n      \"location\": \"USA\",\n      \"price\": 247.40,\n      \"quantity\": 2500,\n      \"buyPrice\": 250.50,\n      \"pastCloseOfDayPrices\": [230.00, 232.30, 235.90, 236.60, 237.00, 240.00, 242.70],\n      \"buyDate\":\"2014-08-23\"\n    },\n    {\n      \"name\": \"Cyprotex\",\n      \"epic\":\"CRX\",\n      \"location\": \"UK\",\n      \"price\": 87.00,\n      \"quantity\": 5000,\n      \"buyPrice\": 90.00,\n      \"pastCloseOfDayPrices\": [92.00, 91.00, 91.50, 92.10, 92.70, 91.00, 88.70],\n      \"buyDate\":\"2015-01-11\"\n    },\n    {\n      \"name\": \"Robinson\",\n      \"epic\":\"RBN\",\n      \"location\": \"China\",\n      \"price\": 202.00,\n      \"quantity\": 5000,\n      \"buyPrice\": 80.50,\n      \"pastCloseOfDayPrices\": [201.00, 200.50, 200.00, 202.30, 202.40, 202.10, 203.00],\n      \"buyDate\":\"2014-04-10\"\n    },\n    {\n      \"name\": \"Softcat\",\n      \"epic\":\"SCT\",\n      \"location\": \"USA\",\n      \"price\": 322.90,\n      \"quantity\": 2000,\n      \"buyPrice\": 420.00,\n      \"pastCloseOfDayPrices\": [324.40, 325.10, 323.90, 323.40, 323.10, 323.00, 322.20],\n      \"buyDate\":\"2015-02-18\"\n    },\n    {\n      \"name\": \"Royal Bank of Scotland Group\",\n      \"epic\":\"RBS\",\n      \"location\": \"UK\",\n      \"price\": 233.00,\n      \"quantity\": 8000,\n      \"buyPrice\": 790.00,\n      \"pastCloseOfDayPrices\": [228.00, 229.10, 228.10, 229.70, 230.90, 231.10, 231.40],\n      \"buyDate\":\"2016-01-15\"\n    },\n    {\n      \"name\": \"NCC\",\n      \"epic\":\"NCC\",\n      \"location\": \"USA\",\n      \"price\": 279.00,\n      \"quantity\": 2000,\n      \"buyPrice\": 500.00,\n      \"pastCloseOfDayPrices\": [279.10, 285.00, 285.20, 286.00, 286.00, 285.20, 280.00],\n      \"buyDate\":\"2014-11-15\"\n    },\n    {\n      \"name\": \"Stadium\",\n      \"epic\":\"SDM\",\n      \"location\": \"China\",\n      \"price\": 116.90,\n      \"quantity\": 5000,\n      \"buyPrice\": 9.00,\n      \"pastCloseOfDayPrices\": [115.00, 115.00, 115.50, 115.90, 116.30, 116.40, 116.80],\n      \"buyDate\":\"2014-04-04\"\n    }\n]\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/specs/shareSample.js\n ** module id = 6\n ** module chunks = 0\n **/","var senseChecker = require('./senseChecker.js');\n\nvar Portfolio = function(){\n  this.investments = [];  \n}\nPortfolio.prototype = {\n  addInvestment: function(investment){\n    this.investments.push(investment);\n  },\n  removeInvestment: function(investment, user){\n    if(senseChecker.isInvestment(investment, user)){\n      var index = this.findInvestmentIndex(investment);\n      this.investments.splice(index, 1);\n    }\n  },\n  findInvestmentIndex: function(investmentToFind){\n    arrayLoop:\n    for (var i = 0; i < this.investments.length; i++) {\n     var investment = this.investments[i];\n     for (var key in investmentToFind) {\n      if (investmentToFind[key] != investment[key]) {\n        continue arrayLoop;\n      }\n    } \n    for (var key in investment) {\n      if (investmentToFind[key] != investment[key]) {\n        continue arrayLoop;\n      }\n    } \n    return i;\n  }\n},\ntotalValue: function(){\n  var sum = 0;\n  for (var investment of this.investments) {\n    sum += investment.currentValue();\n  }\n  return sum;\n},\npastTotalValue: function(day){\n  var sum = 0;\n  for(var investment of this.investments) {\n    var dayTotal = investment.quantity * investment.share.pastCloseOfDayPrices[7 - day];\n    sum += dayTotal;\n  }\n  return sum;\n},\ntotalValueOfRegion: function(region){\n  var sum = 0;\n  for(var investment of this.investments){\n    if(investment.share.location === region){\n      var total = investment.quantity * investment.share.currentPrice;\n      sum += total;\n    }\n  }\n  return sum;\n},\nfind: function(search){\n    // accepts an object where the key is the search field and the value is the search term\n    // e.g. find({name: 'My Investment'});\n    arrayLoop:\n    for (var investment of this.investments) {\n      for (var key in search){\n        if (investment.share[key] != search[key]) {\n          continue arrayLoop;\n        }\n      }   \n      return investment;\n    }\n  },\n  findByName: function(name){\n    return this.find({shareName: name})\n  },\n  findByEpic: function(epic){\n    return this.find({epic: epic})\n  },\n  largestInvestment: function(){\n    var largest = this.investments[0];\n    for (var investment of this.investments) {\n      if (investment.currentValue() > largest.currentValue()) { \n        largest = investment;\n      }\n    }\n    return largest; \n  },\n  findLargestChange: function(measurement){\n    var highestInvestment = this.investments[0];\n    for (investment of this.investments) {\n      if(investment.valueChange(measurement) > highestInvestment.valueChange(measurement)){\n        highestInvestment = investment;\n      }\n    }\n    return highestInvestment;\n  },\n  findLargestPriceChange: function(){\n    return this.findLargestChange('price');\n  },\n  findLargestPercentageChange: function(){\n    return this.findLargestChange('percentage');\n  }\n};\n\nmodule.exports = Portfolio;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/portfolio.js\n ** module id = 7\n ** module chunks = 0\n **/","var senseChecker = require('./senseChecker.js');\n\n\nvar Share = function(params){\n  this.shareName = params.name;\n  this.epic = params.epic;\n  this.location = params.location;\n  this.currentPrice = params.price;\n  this.pastCloseOfDayPrices = params.pastCloseOfDayPrices;\n};\n\nShare.prototype = {\n  crashValue: function(percentage){\n    if(senseChecker.isGoodPercentage(percentage)){\n      var newPrice = this.currentPrice * ((100 - percentage)/ 100);\n      this.currentPrice = newPrice;\n    }\n  },\n  inflateValue: function(percentage){\n    var newPrice = this.currentPrice * ((100 + percentage) / 100);\n    this.currentPrice = newPrice;\n  }\n};\n\nmodule.exports = Share;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/share.js\n ** module id = 8\n ** module chunks = 0\n **/","\nvar displayLargestPercChange = function(user){\n  var moreInfo = document.getElementById('moreInfo');\n  var p = document.createElement('p');\n  var largestPercChangeInvestment = user.portfolio.findLargestPercentageChange();\n  var largestPercChangeValue = largestPercChangeInvestment.valueChange('percentage');\n  p.innerHTML = \"<h2>Best performing stock</h2>\"\n  p.innerHTML += largestPercChangeInvestment.shareName + \": +\" + Number(largestPercChangeValue).toLocaleString() + \"%\";\n  moreInfo.appendChild(p);\n}\n\nvar displayCurrentPortfolioValue = function(user){\n  var basicInfo = document.getElementById('basicInfo');\n  basicInfo.innerHTML = \"\";\n  var p = document.createElement('p');\n  p.innerHTML = \"<h2>Current Total Value</h2>£\" + Number(user.portfolio.totalValue() / 100).toLocaleString();\n  basicInfo.appendChild(p);\n}\n\nvar displayAccountBalance = function(user){\n  var balanceInfo = document.getElementById('balanceInfo');\n  balanceInfo.innerHTML = \"\";\n  var p = document.createElement('p');\n  p.innerHTML = \"<h2>Account Credit</h2>£\" + Number(user.accountBalance / 100).toLocaleString();\n  balanceInfo.appendChild(p);\n}\n\nvar populateSelect = function(user){\n  var shareSelect = document.getElementById('shareSelect');\n  for(investment of user.portfolio.investments){\n    var option = document.createElement('option');\n    option.innerText = investment.shareName;\n    shareSelect.appendChild(option);\n  }\n}\n\nmodule.exports = {\n  displayLargestPercChange: displayLargestPercChange,\n  displayAccountBalance: displayAccountBalance,\n  displayCurrentPortfolioValue: displayCurrentPortfolioValue,\n  populateSelect: populateSelect\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/basicDisplay.js\n ** module id = 9\n ** module chunks = 0\n **/","var Barry;\nvar getUser = require('../getUser.js');\ngetUser('Barry Manilow', function(user){\n  Barry = user;\n});\n\nvar ScatterChart = function(){\n  var container = document.getElementById(\"scatterChart\");\n\n  var lineColor = function(){\n    if(Barry.portfolio.pastTotalValue(1) > Barry.portfolio.pastTotalValue(7)) {\n      return  \"rgb(110,216,84)\"\n      }\n    else { \n      return'rgba(223, 83, 83, .9)'\n    }\n  }\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'scatter',\n      renderTo: container\n    },\n    title: {\n      text: \"7 Day Performance - Total Portfolio Value\",\n      style: {\n        \"text-decoration\": \"underline\",\n        \"font-weight\": \"700\"\n      }\n    },\n    xAxis: {\n      title: {\n        text: \"Previous Week's Days\"\n      },\n      tickAmount: 7,\n      tickInterval: 1\n    },\n    yAxis: {\n      title: {\n        text: \"Total Value (GBP)\"\n      }\n    },\n    series: [{\n      regression: true ,\n      regressionSettings: {\n        type: 'linear',\n        color:  lineColor(),\n        dashStyle: 'ShortDash',\n        name: \"Line of Best Fit\"\n        },\n        type: \"line\",\n      name: \"Portfolio\",\n      data: [ [1, Barry.portfolio.pastTotalValue(7) / 100], [2, Barry.portfolio.pastTotalValue(6) / 100], [3, Barry.portfolio.pastTotalValue(5) / 100], [4, Barry.portfolio.pastTotalValue(4) / 100], [5, Barry.portfolio.pastTotalValue(3) / 100], [6, Barry.portfolio.pastTotalValue(2) / 100], [7, Barry.portfolio.pastTotalValue(1) / 100] ],\n    }],\n\n  });\n}\n\nmodule.exports = ScatterChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/scatterChart.js\n ** module id = 10\n ** module chunks = 0\n **/","var PieChart = function(portfolio){\n  var container = document.getElementById(\"pieChart\");\n  var investmentData = []\n\n  for(investment of portfolio.investments){\n    var dataItem = {\n    name: investment.share.epic,\n    y: investment.currentValue(),\n    }\n    investmentData.push(dataItem);\n  }\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'pie',\n      renderTo: container\n    },\n    title: {\n      text: \"Investments as proportion of total portfolio value\",\n    },\n    series: [{\n      name: \"Investment\",\n      data: investmentData,\n    }],\n\n  });\n}\n\nmodule.exports = PieChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/pieChart.js\n ** module id = 11\n ** module chunks = 0\n **/","var Share = require('../models/share.js');\n\nvar GaugeChart = function(target, container){\n  var title = target.description;\n\n  if(target.object instanceof Share || target.property === \"sevenDayAverage\"){\n    var min = target.startingValue;\n    var max = target.target;\n    var current = parseFloat(target.currentValue().toFixed(2));\n    var unit = \"GMX\";\n  }\n  else {\n    var min = target.startingValue / 100;\n    var max = target.target / 100;\n    var current = target.currentValue() / 100;\n    var unit = \"£GBP\";\n  }\n\n  var chart = new Highcharts.Chart( {\n\n    chart: {\n      type: 'solidgauge',\n      renderTo: container,\n    },\n\n    title: null,\n\n    pane: {\n      center: ['50%', '85%'],\n      size: '120%',\n      startAngle: -90,\n      endAngle: 90,\n      background: {\n        backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',\n        innerRadius: '60%',\n        outerRadius: '100%',\n        shape: 'arc'\n      }\n    },\n\n    tooltip: {\n      enabled: false\n    },\n\n        // the value axis\n        yAxis: {\n\n          labels: {\n            enabled: true\n          },\n          tickPositions: [min,max],\n          min: min.toFixed(2),\n          max: max,\n          title: {\n            text: title,\n            style: {\n              \"fontSize\": \"18px\"\n            },\n            y: -70\n          },\n\n\n\n\n          stops: [\n                [0.1, '#DF5353'], // red\n                [0.5, '#DDDF0D'], // yellow\n                [0.9, '#55BF3B'] // green\n                ],\n                lineWidth: 0,\n                minorTickInterval: null,\n                tickPixelInterval: 400,\n                tickWidth: 0,\n               \n                labels: {\n                  y: 16\n                }\n              },\n\n              plotOptions: {\n                solidgauge: {\n                  dataLabels: {\n                    y: 5,\n                    borderWidth: 0,\n                    useHTML: true\n                  }\n                }\n              },\n            \n\n\n\n            credits: {\n              enabled: false\n            },\n\n            series: [{\n              name: 'Speed',\n              data: [current],\n              dataLabels: {\n                format: '<div style=\"text-align:center\"><span style=\"font-size:25px;color: white' +\n                ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '\">{y}</span><br/>' +\n                '<span style=\"font-size:12px;color:silver\">' + unit + '</span></div>'\n              },\n              tooltip: {\n                valueSuffix: unit\n              }\n            }],\n\n          })\n}\n\nmodule.exports = GaugeChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/gaugeChart.js\n ** module id = 12\n ** module chunks = 0\n **/","  var chartStyles = {\n    colors: [\"#2b908f\", \"#90ee7e\", \"#f45b5b\", \"#7798BF\", \"#aaeeee\", \"#ff0066\", \"#eeaaee\",\n      \"#55BF3B\", \"#DF5353\", \"#7798BF\", \"#aaeeee\"],\n    chart: {\n      backgroundColor: {\n        linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },\n        stops: [\n          [0, '#2a2a2b'],\n          [1, '#3e3e40']\n        ]\n      },\n      style: {\n        fontFamily: \"'Unica One', sans-serif\",\n        textTransform: 'uppercase',\n      },\n      plotBorderColor: '#606063'\n    },\n    title: {\n      style: {\n        color: '#E0E0E3',\n        textTransform: 'uppercase',\n        fontSize: '20px'\n      }\n    },\n    subtitle: {\n      style: {\n        color: '#E0E0E3',\n        textTransform: 'uppercase'\n      }\n    },\n    xAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n          color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      title: {\n        style: {\n          color: '#A0A0A3'\n\n        }\n      }\n    },\n    yAxis: {\n      gridLineColor: '#707073',\n      labels: {\n        style: {\n          color: '#E0E0E3'\n        }\n      },\n      lineColor: '#707073',\n      minorGridLineColor: '#505053',\n      tickColor: '#707073',\n      tickWidth: 1,\n      title: {\n        style: {\n          color: '#A0A0A3'\n        }\n      }\n    },\n    tooltip: {\n      backgroundColor: 'rgba(0, 0, 0, 0.85)',\n      style: {\n        color: '#F0F0F0'\n      }\n    },\n    plotOptions: {\n      series: {\n        dataLabels: {\n          color: '#B0B0B3'\n        },\n        marker: {\n          lineColor: '#333'\n        },\n        color: \"#FAFA98\"\n      },\n      boxplot: {\n        fillColor: '#505053'\n      },\n      candlestick: {\n        lineColor: 'white'\n      },\n      errorbar: {\n        color: 'white'\n      }\n    },\n    legend: {\n      itemStyle: {\n        color: '#E0E0E3'\n      },\n      itemHoverStyle: {\n        color: '#FFF'\n      },\n      itemHiddenStyle: {\n        color: '#606063'\n      }\n    },\n    credits: {\n      style: {\n        color: '#666'\n      }\n    },\n    labels: {\n      style: {\n        color: '#707073'\n      }\n    },\n\n    drilldown: {\n      activeAxisLabelStyle: {\n        color: '#F0F0F3'\n      },\n      activeDataLabelStyle: {\n        color: '#F0F0F3'\n      }\n    },\n\n    navigation: {\n      buttonOptions: {\n        symbolStroke: '#DDDDDD',\n        theme: {\n          fill: '#505053'\n        }\n      }\n    },\n\n    // scroll charts\n    rangeSelector: {\n      buttonTheme: {\n        fill: '#505053',\n        stroke: '#000000',\n        style: {\n          color: '#CCC'\n        },\n        states: {\n          hover: {\n            fill: '#707073',\n            stroke: '#000000',\n            style: {\n              color: 'white'\n            }\n          },\n          select: {\n            fill: '#000003',\n            stroke: '#000000',\n            style: {\n              color: 'white'\n            }\n          }\n        }\n      },\n      inputBoxBorderColor: '#505053',\n      inputStyle: {\n        backgroundColor: '#333',\n        color: 'silver'\n      },\n      labelStyle: {\n        color: 'silver'\n      }\n    },\n\n    navigator: {\n      handles: {\n        backgroundColor: '#666',\n        borderColor: '#AAA'\n      },\n      outlineColor: '#CCC',\n      maskFill: 'rgba(255,255,255,0.1)',\n      series: {\n        color: '#7798BF',\n        lineColor: '#A6C7ED'\n      },\n      xAxis: {\n        gridLineColor: '#505053'\n      }\n    },\n\n    scrollbar: {\n      barBackgroundColor: '#808083',\n      barBorderColor: '#808083',\n      buttonArrowColor: '#CCC',\n      buttonBackgroundColor: '#606063',\n      buttonBorderColor: '#606063',\n      rifleColor: '#FFF',\n      trackBackgroundColor: '#404043',\n      trackBorderColor: '#404043'\n    },\n\n    // special colors for some of the\n    legendBackgroundColor: 'rgba(0, 0, 0, 0.5)',\n    background2: '#505053',\n    dataLabelsColor: '#B0B0B3',\n    textColor: '#C0C0C0',\n    contrastTextColor: '#F0F0F3',\n    maskColor: 'rgba(255,255,255,0.3)'\n}\n\n\nmodule.exports = chartStyles;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/chartStyles.js\n ** module id = 13\n ** module chunks = 0\n **/","var Notification = function(notificationArea, params) {\n  this.area = notificationArea;\n  this.title = params.title || 'Notification';\n  this.content = params.content || '';\n  this.type = params.type || 'info';\n  this.time = params.time || new Date();\n  this.element = this.setupElement();\n}\nNotification.prototype = {\n  setupElement: function(){\n    var element = document.createElement('div');\n    element.classList.add('notification-' + this.type);\n    var title = document.createElement('h2');\n    title.innerText = this.title;\n    var content = document.createElement('p');\n    content.innerText = this.content; \n    element.appendChild(this.setupCloseButton());\n    element.appendChild(title);\n    element.appendChild(content);\n    return element;\n  },\n  setupCloseButton: function(){\n    var button = document.createElement('span');\n    button.innerText = 'X'; \n    button.onclick = function(){\n      this.destroy();\n    }.bind(this);\n    return button;\n  },\n  destroy: function(){\n    this.area.container.removeChild(this.element);\n    this.area.updateIcon();\n  }\n}\n\nvar NotificationArea = function(){\n  this.container = this.setupContainer();\n  this.showing = false;\n  this.notificationButton = this.setupNotificationButton();\n  this.countContainer = this.notificationButton.getElementsByTagName('span')[0];\n  this.setupScrolling();\n}\nNotificationArea.prototype = {\n  setupContainer: function(){\n    var container = document.createElement('div');\n    container.id = 'notification-container';\n    document.body.appendChild(container); \n    return container;\n  },\n  setupNotificationButton: function(){\n    var button = document.getElementById('notifications');\n    button.onclick = function(){\n      if (this.showing == true){\n        this.hide();\n      } else {\n        this.show();\n      }\n      this.countContainer.className = '';\n    }.bind(this);\n    return button;\n  },\n  setupScrolling: function(){\n    document.onscroll = function(event){\n      var newTop = 53 - window.pageYOffset; //will need changed if header height changes\n      if (newTop < 0) {\n        newTop = 0;\n      }\n      var newHeight = screen.height - newTop;\n      this.container.style.height = newHeight + 'px';\n      this.container.style.top = newTop + 'px';\n    }.bind(this);\n  },\n  newNotification: function(params){\n    var notification = new Notification(this, params);\n    this.container.appendChild(notification.element);\n    this.updateIcon();\n  },\n  updateIcon: function(){\n    var notificationCount = this.container.childNodes.length;\n    var prevCount = Number(this.countContainer.innerText);\n    if (notificationCount > 0) {\n      this.countContainer.innerText = notificationCount;\n    } else {\n      this.countContainer.innerText = '';\n      this.hide();\n    }\n    if (prevCount < notificationCount && this.showing == false) {\n      this.countContainer.className = 'pulse';\n    }\n  },\n  show: function(){\n    this.container.className = 'display-notification-container';\n    this.showing = true;\n  },\n  hide: function(){\n    this.container.className = 'hide-notification-container';\n    this.showing = false;\n  }\n}\n\nmodule.exports = NotificationArea;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/notification.js\n ** module id = 14\n ** module chunks = 0\n **/","var singleScatterChart = require('./charts/singleScatterChart.js');\nvar TargetChecker = require('./targets.js');\nvar index = require('./basicDisplay.js');\n\nmodule.exports = function(timer){\n  var loadInfo = function(investment, user){\n    new singleScatterChart(investment);\n    var investmentView = document.getElementById('investmentView');\n    var buyPreview = document.getElementById('buyPreview');\n    var sellPreview = document.getElementById('sellPreview');\n    investmentView.innerHTML = \"\";\n    buyPreview.innerHTML = \"\";\n    sellPreview.innerHTML = \"\";\n\n    if(investment.valueChange(\"percentage\")){\n      var value = \"Change in Value Since Bought: \" + investment.valueChange(\"percentage\").toFixed(2) + \"%<br>\";\n    }\n    else {\n      var value = \"\"\n    }\n\n    var currentShareValue = (investment.currentValue() / 100).toFixed(2);\n\n    var info = document.createElement('p');\n    info.innerHTML = \"<h2>\" + investment.shareName + \" (\" + investment.share.epic + \")</h2><h3>Current Price</h3>\" + investment.share.currentPrice.toFixed(2) + \" GBX <h3>Current Value</h3>£\" + Number(currentShareValue).toLocaleString() + \"<br><br>\" + value + \"7 Day Moving Average: \" + investment.sevenDayAverage().toFixed(2) + \" GBX<br>Quantity Held: \" + investment.quantity + \"<br>Country: \" + investment.share.location;\n    investmentView.appendChild(info); \n\n    index.displayCurrentPortfolioValue(user);\n    index.displayAccountBalance(user);\n\n  }\n\n  var TradeForm = function(option, user, investment){\n\n    if(option === \"Buy\"){\n      var inputId = \"buyInput\";\n      var submitId = \"buySubmit\"\n        var placeholder = '\"Enter amount\"';\n    }\n    else if(option === \"Sell\"){\n      var inputId = \"sellInput\";\n      var submitId = \"sellSubmit\";\n      var placeholder = '\"Enter amount\"';\n    }\n    else if(option === \"BuyShort\"){\n      var inputId = \"buyShortInput\";\n      var submitId = \"buyShortSubmit\";\n      var placeholder = '\"Enter amount\"';\n    }\n    else if(option === \"SellShort\"){\n      var inputId = \"sellShortInput\";\n      var submitId = \"sellShortSubmit\";\n      var placeholder = '\"Enter amount\"';\n    }\n    else if(option === \"CrashStock\"){\n      var inputId = \"crashStockInput\";\n      var submitId = \"crashStockSubmit\";\n      var placeholder = '\"Enter percentage\"';\n    }\n    else if(option === 'PumpStock'){\n      var inputId = \"pumpStockInput\";\n      var submitId = \"pumpStockSubmit\";\n      var placeholder = '\"Enter percentage\"';\n    }\n    else if(option === \"CrashRegion\"){\n      var inputId = \"crashRegionInput\";\n      var submitId = \"crashRegionSubmit\";\n      var placeholder = '\"Enter percentage\"';\n    } \n    else if(option === 'PumpRegion'){\n      var inputId = \"pumpRegionInput\";\n      var submitId = \"pumpRegionSubmit\";\n      var placeholder = '\"Enter percentage\"';\n    }\n\n    var form = document.createElement('form');\n    form.innerHTML = \"<input type='text' id=\" + inputId + \" placeholder=\" + placeholder + \"><input type='submit' id=\" + submitId + \" value='\" + option + \" Shares'>\";\n\n    form.onsubmit = function(event){\n      var value = document.getElementById(inputId).value;\n      event.preventDefault();\n\n      if(option === \"Buy\"){\n        user.buyShares(investment.share, parseInt(value), investment);\n        user.save();\n        loadInfo(investment, user);\n      }\n      else if(option ===\"Sell\"){\n        user.sellShares(investment, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n      }\n      else if(option === \"BuyShort\"){\n        user.buyShort(investment, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }\n      else if(option == \"SellShort\"){\n        user.sellShort(investment.share, parseInt(value), investment);\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }\n      else if(option === \"CrashStock\"){\n        user.spreadRumours(investment.share, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }\n      else if(option === \"PumpStock\"){\n        user.pumpStock(investment.share, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }   \n      else if(option === \"CrashRegion\"){\n        user.crashRegion(investment.share.location, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }   \n      else if(option === \"PumpRegion\"){\n        user.pumpRegion(investment.share.location, parseInt(value));\n        user.save();\n        loadInfo(investment, user);\n        timer.stopPriceUpdating();\n      }\n    }\n    return form;\n  }\n\n  var showPreview = function(investment, user){\n    var preview = document.getElementById('preview');\n    var buyPreview = document.getElementById('buyPreview');\n    var sellPreview = document.getElementById('sellPreview');\n    var buyAmount = document.getElementById(\"buyInput\").value;\n    var sellAmount = document.getElementById(\"sellInput\").value;\n    if(buyAmount === \"\"){\n      buyPreview.style.display = \"none\";\n    }\n    else {\n      var buyValue = parseInt(buyAmount) * investment.share.currentPrice || \"\";\n      buyPreview.style.display = \"inline-block\";\n      buyPreview.innerHTML = \"Buy Price: £\" + Number(buyValue / 100).toLocaleString();\n      if(buyValue > user.accountBalance){\n        buyPreview.style.color = \"red\";\n      }\n      else {\n        buyPreview.style.color = \"green\";\n      }\n    }\n    if(sellAmount === \"\"){\n      sellPreview.style.display = \"none\";\n    }\n    else{\n      var sellValue = parseInt(sellAmount) * investment.share.currentPrice || \"\";\n      sellPreview.style.display = \"inline-block\";\n      if (sellAmount <= investment.quantity){\n        sellPreview.style.color = \"green\";\n        sellPreview.innerHTML = \"<br>Sell Value: £\" + Number(sellValue / 100).toLocaleString();\n      }\n      else{\n        sellPreview.style.color = \"red\";\n        sellPreview.innerHTML = \"<br>Not enough shares held.\";\n      }\n\n    }\n\n  }\n\n  var showInvestmentInfo = function(inputName, user){\n    var investment = user.portfolio.find({shareName: inputName });\n    var buysellView = document.getElementById('buysellView');\n    buysellView.innerHTML = \"\";\n\n    loadInfo(investment, user);\n\n    var buyForm = new TradeForm(\"Buy\", user, investment);\n    var sellForm = new TradeForm(\"Sell\", user, investment);\n    var sellShortForm = new TradeForm(\"SellShort\", user, investment);\n    var buyShortForm = new TradeForm(\"BuyShort\", user, investment);\n    var crashStockForm = new TradeForm(\"CrashStock\", user, investment);\n    var pumpStockForm = new TradeForm(\"PumpStock\", user, investment);\n    var crashRegionForm = new TradeForm(\"CrashRegion\", user, investment);\n    var pumpRegionForm = new TradeForm(\"PumpRegion\", user, investment);\n    buysellView.appendChild(buyForm); \n    buysellView.appendChild(sellForm); \n    buysellView.appendChild(buyShortForm); \n    buysellView.appendChild(sellShortForm); \n    buysellView.appendChild(crashStockForm); \n    buysellView.appendChild(pumpStockForm); \n    buysellView.appendChild(crashRegionForm); \n    buysellView.appendChild(pumpRegionForm); \n\n    new TargetChecker(user, investment);\n\n    document.onkeyup = function(){\n      showPreview(investment, user);\n    }\n  }\n  return showInvestmentInfo;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/investmentInfo.js\n ** module id = 15\n ** module chunks = 0\n **/","var Barry;\nvar getUser = require('../getUser.js');\ngetUser('Barry Manilow', function(user){\n  Barry = user;\n});\n\n\nvar SingleScatterChart = function(investment){\n  var container = document.getElementById(\"singleScatterChart\");\n\n  var lineColor = function(){\n    if(investment.share.currentPrice > investment.share.pastCloseOfDayPrices[0]) {\n      return  \"rgb(110,216,84)\"\n      }\n    else { \n      return'rgba(223, 83, 83, .9)'\n    }\n  }\n\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'scatter',\n      renderTo: container\n    },\n    title: {\n      text: \"7 Day Performance - \" + investment.shareName,\n      style: {\n        \"text-decoration\": \"underline\",\n        \"font-weight\": \"700\"\n      }\n    },\n    xAxis: {\n      title: {\n        text: \"Previous Week's Days\"\n      },\n      tickAmount: 8,\n      tickInterval: 1\n    },\n    yAxis: {\n      title: {\n        text: \"Value of Share (GBX)\"\n      }\n    },\n    series: [{\n      regression: true ,\n      regressionSettings: {\n        type: 'linear',\n        color:  lineColor(),\n        dashStyle: 'ShortDash',\n        name: \"Line of Best Fit\"\n        },\n        type: \"line\",\n      name: \"Value of Share\",\n      data: [ [1, investment.share.pastCloseOfDayPrices[0]], [2, investment.share.pastCloseOfDayPrices[1]], [3, investment.share.pastCloseOfDayPrices[2]], [4, investment.share.pastCloseOfDayPrices[3]], [5, investment.share.pastCloseOfDayPrices[4]], [6, investment.share.pastCloseOfDayPrices[5]], [7, investment.share.pastCloseOfDayPrices[6]], [8, investment.share.currentPrice] ],\n    }],\n\n  });\n}\n\nmodule.exports = SingleScatterChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/singleScatterChart.js\n ** module id = 16\n ** module chunks = 0\n **/","var TargetChecker = function(user, investment){\n  var targetsView = document.getElementById('targetsView');\n  targetsView.innerHTML = \"\";\n\n  var p = document.createElement('p');\n  p.innerHTML = \"Target value for this investment (£): <input type='text' id='targetValue'><button id='targetValueButton'>Check</button><br>Price required to meet this target with current share quantity: <span id='targetValuePrice'></span><br><br>Days to hit target if current trend continues: <span id='targetValueDays'></span>\";\n\n  targetsView.appendChild(p);\n\n  var button = document.getElementById('targetValueButton');\n  button.onclick = function(){\n    var input = document.getElementById('targetValue').value;\n    if(input === \"\" || isNaN(input)){\n      return;\n    }\n    input = parseInt(input) * 100;\n\n    var calcPrice = function(){\n      var price = input / investment.quantity;\n      return price.toFixed(2);\n    }\n    var calcDays = function(){\n      if(parseInt(input) <= investment.currentValue()){\n        return \"Investment already meets this value!\"\n      }\n      else {\n        var difference = parseInt(input) - investment.currentValue();\n        var averageIncrease = (investment.currentValue() - (investment.share.pastCloseOfDayPrices[0] * investment.quantity)) / 8;\n        console.log(investment.share.pastCloseOfDayPrices[0] * investment.quantity)\n        var days = difference / averageIncrease;\n        if(days < 0){\n          return \"Investment value is currently decreasing.\"\n        }\n        return Math.ceil(days);\n      }\n    }\n\n    var spanPrice = document.getElementById('targetValuePrice');\n    spanPrice.innerText = calcPrice() + \" GBX\";\n    var spanDays = document.getElementById('targetValueDays');\n    spanDays.innerText = calcDays();\n  }\n}\n\nmodule.exports = TargetChecker;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/targets.js\n ** module id = 17\n ** module chunks = 0\n **/","var gaugeChart = require('./charts/gaugeChart.js');\nvar senseChecker = require('./models/senseChecker.js');\n\nmodule.exports = function(notificationArea, Barry){\n  var Target = require('./models/target.js')\n  var targetsView = document.getElementById('targetsView');\n  var targetsInfo = document.getElementById('targetsInfo');\n  var targetFormButton = document.getElementById('targetFormButton');\n  var targetFormType = document.getElementById('targetFormType');\n  var targetFormFields = document.getElementById('targetFormFields');\n\n  var showFormForPortfolio = function(){\n    var label = document.getElementById('targetFormLabel'); \n    var select = document.getElementById('targetFormObject');\n    var propSelect = document.getElementById('targetFormProp');\n    select.innerHTML = '';\n    propSelect.innerHTML = '';\n    label.innerText = 'Portfolio';\n    var option = document.createElement('option');\n    option.innerText = 'My Portfolio';\n    select.appendChild(option);\n    var propOption = document.createElement('option');\n    propOption.innerText = 'Total value';\n    propOption.value = 'totalValue';\n    propSelect.appendChild(propOption);\n  }\n  var showFormForInvestment = function(){\n    var label = document.getElementById('targetFormLabel'); \n    var select = document.getElementById('targetFormObject');\n    var propSelect = document.getElementById('targetFormProp');\n    select.innerHTML = '';\n    propSelect.innerHTML = '';\n    label.innerText = 'Investment';\n    for (var investment of Barry.portfolio.investments) {\n      var option = document.createElement('option');\n      option.value = investment.shareName;\n      option.innerText = investment.shareName;\n      select.appendChild(option);\n    }\n    var propOption = document.createElement('option');\n    propOption.innerText = 'Current value';\n    propOption.value = 'currentValue';\n    propSelect.appendChild(propOption);\n    var propOption = document.createElement('option');\n    propOption.innerText = 'Seven day average';\n    propOption.value = 'sevenDayAverage';\n    propSelect.appendChild(propOption);\n  }\n  var showFormForShare = function(){\n    var label = document.getElementById('targetFormLabel'); \n    var select = document.getElementById('targetFormObject');\n    var propSelect = document.getElementById('targetFormProp');\n    select.innerHTML = '';\n    propSelect.innerHTML = '';\n    label.innerText = 'Share';\n    for (var investment of Barry.portfolio.investments) {\n      var option = document.createElement('option');\n      option.value = investment.share.shareName;\n      option.innerText = investment.share.shareName;\n      select.appendChild(option);\n    }\n    var propOption = document.createElement('option');\n    propOption.innerText = 'Current price';\n    propOption.value = 'currentPrice';\n    propSelect.appendChild(propOption);\n  }\n\n  targetFormType.onchange = function(){\n    if (this.value == 'Portfolio'){\n      targetFormFields.style.display = 'block';\n      showFormForPortfolio();\n    } else if (this.value == 'Investment'){\n      targetFormFields.style.display = 'block';\n      showFormForInvestment();\n    } else if (this.value == 'Share') {\n      targetFormFields.style.display = 'block';\n      showFormForShare();\n    } else {\n      targetFormFields.style.display = 'none';\n    }\n  }\n\n  var submitTargetForm = function(){\n    var value = document.getElementById('targetFormValue').value;\n    var check = document.getElementById('targetFormCheck').value;\n    var description = document.getElementById('targetFormDescription').value;\n    var prop = document.getElementById('targetFormProp').value;\n    var newTarget;\n    if (targetFormType.value == 'Portfolio'){\n      newTarget = {\n        description: description,\n        object: Barry.portfolio,\n        property: prop,\n        check: check,\n        target: value * 100,\n        checkTime: 10000\n      }\n    } \n    else if (targetFormType.value == 'Investment') {\n      var investmentName = document.getElementById('targetFormObject').value;\n      var investment = Barry.portfolio.findByName(investmentName);\n      if(prop === \"currentValue\"){\n        value = value * 100;\n      }\n      newTarget = {\n        description: description,\n        object: investment,\n        property: prop,\n        check: check,\n        target: value,\n        checkTime: 10000\n      }\n    }\n    else if (targetFormType.value == 'Share'){\n      var shareName = document.getElementById('targetFormObject').value;\n      var share = Barry.portfolio.findByName(shareName).share;\n      newTarget = {\n        description: description,\n        object: share,\n        property: prop,\n        check: check,\n        target: value,\n        checkTime: 10000\n      }\n    }\n    \n    var currentNewValue = function(){\n      if (typeof(newTarget.object[newTarget.property]) == 'function') {\n        var value = newTarget.object[newTarget.property]();\n      } \n      else {\n        var value = newTarget.object[newTarget.property];\n      }\n      return value;\n    }\n\n    if(newTarget.check === \"gt\"){\n    if(currentNewValue() >= newTarget.target){\n      senseChecker.errorList.push(\"Error: Target already completed\");\n      return;\n    }\n    }\n    else if(newTarget.check === \"lt\"){\n      if(currentNewValue() <= newTarget.target){\n        senseChecker.errorList.push(\"Error: Target already completed\");\n        return;\n      }\n    }\n\n    var target = new Target(newTarget, \n      function(description){\n        showTargets();\n        notificationArea.newNotification({\n          title: 'Target reached!',\n          content: 'You have reached your target ' + description,\n          type: 'success'\n        })\n      });\n\n\n        Barry.targets.push(target);\n        showTargets();\n        targetFormFields.style.display = 'none';\n        targetFormType.selectedIndex = 0;\n      \n  }\n\n  var showTargets = function(){\n    var targetsArea = document.getElementById('targets')\n    targetsArea.innerHTML = '';\n    for (target of Barry.targets) {\n      var li = document.createElement('li');\n      if(target.complete == true){\n        li.classList.add('completed-target')\n      } else {\n        li.classList.add('incomplete-target');\n      }\n      li.innerHTML = target.description;\n      var button = document.createElement('button');\n      button.innerText = \"Show Details\";\n      li.appendChild(button);\n\n      var addClickEvent = function(target){\n        button.addEventListener(\"click\", function(event){\n          showTargetDetails(target);\n        })\n      }\n      addClickEvent(target);\n\n      targetsArea.appendChild(li); \n    }\n    var div = document.createElement('div');\n    div.id = \"gaugeChart\";\n    div.style.height = \"200px\";\n    div.style.display = \"none\";\n    targetsArea.appendChild(div);\n  }\n\n  var showTargetDetails = function(target){\n    console.log(target);\n    var div = document.getElementById('gaugeChart')\n    div.className = \"chart grid-6\";\n    div.style.display = \"block\";\n    new gaugeChart(target, div);\n  }\n\n  targetFormButton.onclick = submitTargetForm;\n\n  //Create sample targets\n  var portfolioTarget = new Target({\n    description: 'Get portfolio value to above £70,000',\n    object: Barry.portfolio,\n    property: 'totalValue',\n    check: 'gt',\n    target: 7000000,\n    checkTime: 10000\n  }, function(){\n    showTargets();\n  })\n  Barry.targets.push(portfolioTarget);\n\n  return showTargets;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/targetForm.js\n ** module id = 18\n ** module chunks = 0\n **/"],"sourceRoot":""}