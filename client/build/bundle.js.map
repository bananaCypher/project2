{"version":3,"sources":["webpack:///webpack/bootstrap 17f362fcefa9e7562574","webpack:///./src/index.js","webpack:///./src/seedObjects.js","webpack:///./src/models/user.js","webpack:///./src/models/investment.js","webpack:///./src/models/portfolio.js","webpack:///./src/models/share.js","webpack:///./src/charts/scatterChart.js","webpack:///./src/charts/pieChart.js","webpack:///./src/charts/singleScatterChart.js","webpack:///./src/notification.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAAyC,sBAAsB;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,mBAAmB,OAAO;AAC/E;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,gBAAe,8BAA8B;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACjIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,6B;;;;;;AClCA;AACA,yB;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,mDAAkD,SAAS;AAC3D;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,mBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,Q;AACA;AACA;AACA,IAAG;AACH;AACA,uBAAsB,gBAAgB;AACtC,IAAG;AACH;AACA,uBAAsB,WAAW;AACjC,IAAG;AACH;AACA;AACA;AACA,gE;AACA;AACA;AACA;AACA,oB;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,wB;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA;;;;;;;;AC1CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA,2B;;;;;;ACjCA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL,IAAG;AACH;;AAEA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,4B;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 17f362fcefa9e7562574\n **/","var Barry = require('./seedObjects.js');\nvar scatterChart = require('./charts/scatterChart.js');\nvar pieChart = require('./charts/pieChart.js');\nvar singleScatterChart = require('./charts/singleScatterChart.js');\nvar NotificationArea = require('./notification.js');\nvar notificationArea;\n\nvar displayLargestPercChange = function(){\n  var basicInfo = document.getElementById('basicInfo');\n  var p = document.createElement('p');\n  var largestPercChangeInvestment = Barry.portfolio.findLargestPercentageChange();\n  var largestPercChangeValue = largestPercChangeInvestment.valueChange('percentage');\n  p.innerHTML = \"<h2>Largest percentage stock change</h2>\"\n  p.innerHTML += largestPercChangeInvestment.shareName + \": \" + Number(largestPercChangeValue).toLocaleString() + \"%\";\n  basicInfo.appendChild(p);\n}\n\nvar displayCurrentPortfolioValue = function(){\n  var basicInfo = document.getElementById('basicInfo');\n  var p = document.createElement('p');\n  p.innerHTML = \"<h2>Current Total Value</h2>Â£\" + Number(Barry.portfolio.totalValue() / 100).toLocaleString();\n  basicInfo.appendChild(p);\n}\n\nvar showSharePerformanceChart = function(inputName){\n  var investment = Barry.portfolio.find({shareName: inputName });\n  new singleScatterChart(investment);\n}\n\nvar populateSelect = function(){\n  var sharePerformanceSelect = document.getElementById('sharePerformanceSelect');\n  for(investment of Barry.portfolio.investments){\n    var option = document.createElement('option');\n    option.innerText = investment.shareName;\n    sharePerformanceSelect.appendChild(option);\n  }\n}\n\nvar updateShare = function(share){\n  var request = new XMLHttpRequest();\n  request.open('GET', '/share/' + share.epic);\n  request.onload = function(){\n    if (request.status === 200) {\n      var newPrice = Number(request.responseText);\n      if (newPrice != share.currentPrice) {\n        share.currentPrice = newPrice;\n      }\n    }\n  };\n  request.send(null);\n}\n\nvar getLatestShareInfo = function(){\n  var investments = Barry.portfolio.investments;\n  for (var investment of investments) {\n    var share = investment.share;\n    updateShare(share);\n    Object.observe(share, function(changes){\n      for (var change of changes) {\n        if(change.name == 'currentPrice') {\n          var share = change.object;\n          if (change.oldValue > share.currentPrice) {var type = 'error'} else {var type = 'success'}\n          notificationArea.newNotification({\n            title: share.epic + ' price changed',\n            content: share.epic + ' has changed price from ' + change.oldValue + ' to ' + share.currentPrice,\n            type: type\n          });\n        }\n      }\n    })\n  }\n}\n\nvar init = function(){\n  console.log('I have loaded');\n  console.log(Barry);\n\n  var sharePerformanceSelect = document.getElementById('sharePerformanceSelect');\n\n  populateSelect();\n  displayCurrentPortfolioValue();\n  displayLargestPercChange();\n  new scatterChart();\n  sharePerformanceSelect.onchange = function(){\n    showSharePerformanceChart(sharePerformanceSelect.value);\n  };\n  new pieChart(Barry.portfolio);\n  notificationArea = new NotificationArea();  \n\n  window.setInterval(function(){\n    //getLatestShareInfo();\n    notificationArea.newNotification({\n      title: share.epic + ' price changed',\n      content: share.epic + ' has changed price from ' + 'kek' + ' to ' + share.currentPrice,\n    });\n  }, 10000);\n};\n\nwindow.onload = init;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var User = require('./models/user.js');\nvar Portfolio = require('./models/portfolio.js');\nvar Investment = require('./models/investment.js');\nvar Share = require('./models/share.js');\nvar investmentsSample = [\n{\n  \"name\": \"Fusionex\",\n  \"epic\":\"FXI\",\n  \"location\": \"USA\",\n  \"price\": 120.00,\n  \"quantity\": 2000,\n  \"buyPrice\": 80.00,\n  \"pastCloseOfDayPrices\": [92.00, 89.00, 103.00, 125.00, 108.00, 98.00, 110.00],\n  \"buyDate\":\"2014-11-15\"\n},\n{\n  \"name\": \"Empiric Student Prop\",\n  \"epic\":\"ESP\",\n  \"location\": \"UK\",\n  \"price\": 112.00,\n  \"quantity\": 3500,\n  \"buyPrice\": 100.00,\n  \"pastCloseOfDayPrices\": [90.00, 78.50, 82.50, 110.00, 109.00, 109.00, 110.50],\n  \"buyDate\":\"2013-10-23\"\n},\n{\n  \"name\": \"Worldpay\",\n  \"epic\":\"WGP\",\n  \"location\": \"China\",\n  \"price\": 301.00,\n  \"quantity\": 1000,\n  \"buyPrice\": 209.40,\n  \"pastCloseOfDayPrices\": [232.60, 220.00, 222.00, 221.60, 240.00, 238.00, 235.40],\n  \"buyDate\":\"2015-12-22\"\n},\n{\n  \"name\": \"Pets At Home\",\n  \"epic\":\"PETS\",\n  \"location\": \"USA\",\n  \"price\": 247.40,\n  \"quantity\": 2500,\n  \"buyPrice\": 250.50,\n  \"pastCloseOfDayPrices\": [230.00, 232.30, 235.90, 236.60, 237.00, 240.00, 242.70],\n  \"buyDate\":\"2014-08-23\"\n},\n{\n  \"name\": \"Cyprotex\",\n  \"epic\":\"CRX\",\n  \"location\": \"UK\",\n  \"price\": 87.00,\n  \"quantity\": 5000,\n  \"buyPrice\": 90.00,\n  \"pastCloseOfDayPrices\": [92.00, 91.00, 91.50, 92.10, 92.70, 91.00, 88.70],\n  \"buyDate\":\"2015-01-11\"\n},\n{\n  \"name\": \"Robinson\",\n  \"epic\":\"RBN\",\n  \"location\": \"China\",\n  \"price\": 202.00,\n  \"quantity\": 5000,\n  \"buyPrice\": 80.50,\n  \"pastCloseOfDayPrices\": [201.00, 200.50, 200.00, 202.30, 202.40, 202.10, 203.00],\n  \"buyDate\":\"2014-04-10\"\n},\n{\n  \"name\": \"Softcat\",\n  \"epic\":\"SCT\",\n  \"location\": \"USA\",\n  \"price\": 322.90,\n  \"quantity\": 2000,\n  \"buyPrice\": 420.00,\n  \"pastCloseOfDayPrices\": [324.40, 325.10, 323.90, 323.40, 323.10, 323.00, 322.20],\n  \"buyDate\":\"2015-02-18\"\n},\n{\n  \"name\": \"Royal Bank of Scotland Group\",\n  \"epic\":\"RBS\",\n  \"location\": \"UK\",\n  \"price\": 233.00,\n  \"quantity\": 8000,\n  \"buyPrice\": 790.00,\n  \"pastCloseOfDayPrices\": [228.00, 229.10, 228.10, 229.70, 230.90, 231.10, 231.40],\n  \"buyDate\":\"2016-01-15\"\n},\n{\n  \"name\": \"NCC\",\n  \"epic\":\"NCC\",\n  \"location\": \"USA\",\n  \"price\": 279.00,\n  \"quantity\": 2000,\n  \"buyPrice\": 500.00,\n  \"pastCloseOfDayPrices\": [279.10, 285.00, 285.20, 286.00, 286.00, 285.20, 280.00],\n  \"buyDate\":\"2014-11-15\"\n},\n{\n  \"name\": \"Stadium\",\n  \"epic\":\"SDM\",\n  \"location\": \"China\",\n  \"price\": 116.90,\n  \"quantity\": 5000,\n  \"buyPrice\": 9.00,\n  \"pastCloseOfDayPrices\": [115.00, 115.00, 115.50, 115.90, 116.30, 116.40, 116.80],\n  \"buyDate\":\"2014-04-04\"\n}\n];\n\nvar Barry = new User(\"Barry Manilow\");\nvar barryPortfolio = new Portfolio();\nvar newShareArray = [];\nvar newInvestmentArray = [];\n\n\nfor(share of investmentsSample){\n  var newShare = new Share(share);\n  newShareArray.push(newShare);\n};\n\nfor (var i = 0; i < investmentsSample.length; i++) {\n  var investment = new Investment(newShareArray[i], investmentsSample[i]);\n  newInvestmentArray.push(investment);\n};\n\nfor(investment of newInvestmentArray){\n  barryPortfolio.investments.push(investment);\n};\n\nBarry.portfolio = barryPortfolio;\n\nmodule.exports = Barry;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/seedObjects.js\n ** module id = 1\n ** module chunks = 0\n **/","var Investment = require('./investment.js')\n\nvar User = function(name){\n  this.name = name,\n  this.portfolio = undefined,\n  this.accountBalance = 500,\n  this.insideTrader = false\n};\n\nUser.prototype = {\n  buyShares: function(share, quantity, params){\n    var outlay = share.currentPrice * quantity;\n    var investment = new Investment(share, params);\n    investment.quantity = quantity\n    this.portfolio.addInvestment(investment);\n    this.accountBalance -= outlay;\n  },\n  sellShares: function(investment){\n    var outlay = investment.share.currentPrice * investment.quantity;\n    this.portfolio.removeInvestment(investment);\n    this.accountBalance += outlay;\n  },\n  sellShort: function(share, quantity, params){\n    var outlay = share.currentPrice * quantity;\n    var investment = new Investment(share, params);\n    investment.quantity = quantity;\n    investment.short = true;\n    this.portfolio.addInvestment(investment);\n    this.accountBalance += outlay;\n  },\n  buyShort: function(investment){\n    if(!investment.short){\n      console.log('this action is illegal!');\n    }\n    else{\n      var outlay = investment.share.currentPrice * investment.quantity;\n      this.portfolio.removeInvestment(investment);\n      this.accountBalance -= outlay;\n    }\n  },\n  spreadRumours: function(share, percentage){\n    if(!this.insideTrader){\n      console.log('this action is illegal!');\n    }\n    else{\n      share.crashValue(percentage);\n    }\n  },\n  pumpStock: function(share, percentage){\n    if(!this.insideTrader){\n      console.log('this action is illegal!');\n    }\n    else{\n      share.inflateValue(percentage);\n    }\n  }\n}\n\nmodule.exports = User;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/user.js\n ** module id = 2\n ** module chunks = 0\n **/","var Investment = function(share, params){\n  this.share = share;\n  this.shareName = share.shareName;\n  this.quantity = params.quantity;\n  this.buyPrice = params.buyPrice;\n  this.buyDate = params.buyDate;\n  this.short = false;\n};\n\nInvestment.prototype = {\n  currentValue: function(){\n    return this.share.currentPrice * this.quantity;\n  },\n  buyDateValue: function(){\n    return this.buyPrice * this.quantity;\n  },\n  valueChange: function(measurement){\n    var priceChange = this.currentValue() - this.buyDateValue();\n    if(measurement === \"price\"){\n      return priceChange;\n    }\n    else if(measurement === \"percentage\"){\n      return (priceChange / this.buyDateValue()) * 100;\n    }\n  },\n  sevenDayAverage: function(){\n    var total = 0;\n    for(price of this.share.pastCloseOfDayPrices){\n      total += price;\n    }\n    return total / 7;\n  },\n};\n\nmodule.exports = Investment;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/investment.js\n ** module id = 3\n ** module chunks = 0\n **/","var Portfolio = function(){\n  this.investments = [];  \n}\nPortfolio.prototype = {\n  addInvestment: function(investment){\n    this.investments.push(investment);\n  },\n\n  removeInvestment: function(investment){\n    var index = this.findInvestmentIndex(investment);\n    this.investments.splice(index, 1);\n  },\n  findInvestmentIndex: function(investmentToFind){\n    arrayLoop:\n    for (var i = 0, len = this.investments.length; i < len; i++) {\n     var investment = this.investments[i];\n      for (var key in investmentToFind) {\n        if (investmentToFind[key] != investment[key]) {\n          continue arrayLoop;\n        }\n      } \n      for (var key in investment) {\n        if (investmentToFind[key] != investment[key]) {\n          continue arrayLoop;\n        }\n      } \n      return i;\n    }\n  },\n  totalValue: function(){\n    var sum = 0;\n    for (var investment of this.investments) {\n      sum += investment.currentValue();\n    }\n    return sum;\n  },\n  pastTotalValue: function(day){\n    var sum = 0;\n    for(var investment of this.investments) {\n      var dayTotal = investment.quantity * investment.share.pastCloseOfDayPrices[7 - day];\n      sum += dayTotal;\n    }\n    return sum;\n  },\n  find: function(search){\n    // accepts an object where the key is the search field and the value is the search term\n    // e.g. find({name: 'My Investment'});\n    arrayLoop:\n    for (var investment of this.investments) {\n      for (var key in search){\n        if (investment.share[key] != search[key]) {\n          continue arrayLoop;\n        }\n      }   \n      return investment;\n    }\n  },\n  findByName: function(name){\n    return this.find({shareName: name})\n  },\n  findByEpic: function(epic){\n    return this.find({epic: epic})\n  },\n  largestInvestment: function(){\n    var largest = this.investments[0];\n    for (var investment of this.investments) {\n      if (investment.currentValue() > largest.currentValue()) { \n        largest = investment;\n      }\n    }\n    return largest; \n  },\n  findLargestChange: function(measurement){\n    var highestInvestment = this.investments[0];\n    for (investment of this.investments) {\n      if(investment.valueChange(measurement) > highestInvestment.valueChange(measurement)){\n        highestInvestment = investment;\n      }\n    }\n    return highestInvestment;\n  },\n  findLargestPriceChange: function(){\n    return this.findLargestChange('price');\n  },\n  findLargestPercentageChange: function(){\n    return this.findLargestChange('percentage');\n  }\n};\n\nmodule.exports = Portfolio;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/portfolio.js\n ** module id = 4\n ** module chunks = 0\n **/","var Share = function(params){\n  this.shareName = params.name;\n  this.epic = params.epic;\n  this.currentPrice = params.price;\n  this.pastCloseOfDayPrices = params.pastCloseOfDayPrices;\n  this.location = params.location;\n};\n\nShare.prototype = {\n  crashValue: function(percentage){\n    if(percentage >= 100){\n      console.log('cannot reduce a shareprice below zero');\n    }\n    else{\n      var newPrice = this.currentPrice * ((100 - percentage)/ 100);\n      this.currentPrice = newPrice;\n    }\n  },\n  inflateValue: function(percentage){\n    var newPrice = this.currentPrice * ((100 + percentage) / 100);\n    this.currentPrice = newPrice;\n  }\n}\n\nmodule.exports = Share;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/share.js\n ** module id = 5\n ** module chunks = 0\n **/","var Barry = require('../seedObjects.js')\n\nvar ScatterChart = function(){\n  var container = document.getElementById(\"scatterChart\");\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'scatter',\n      renderTo: container\n    },\n    title: {\n      text: \"7 Day Performance - Total Portfolio Value\",\n      style: {\n        \"text-decoration\": \"underline\",\n        \"font-weight\": \"700\"\n      }\n    },\n    xAxis: {\n      title: {\n        text: \"Previous Week's Days\"\n      },\n      tickAmount: 7,\n      tickInterval: 1\n    },\n    yAxis: {\n      title: {\n        text: \"Total Value (GBP)\"\n      }\n    },\n    series: [{\n      regression: true ,\n      regressionSettings: {\n        type: 'linear',\n        color:  'rgba(223, 83, 83, .9)',\n        dashStyle: 'ShortDash'\n        },\n        type: \"line\",\n      name: \"Portfolio\",\n      data: [ [1, Barry.portfolio.pastTotalValue(7) / 100], [2, Barry.portfolio.pastTotalValue(6) / 100], [3, Barry.portfolio.pastTotalValue(5) / 100], [4, Barry.portfolio.pastTotalValue(4) / 100], [5, Barry.portfolio.pastTotalValue(3) / 100], [6, Barry.portfolio.pastTotalValue(2) / 100], [7, Barry.portfolio.pastTotalValue(1) / 100] ],\n    }],\n\n  });\n}\n\nmodule.exports = ScatterChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/scatterChart.js\n ** module id = 6\n ** module chunks = 0\n **/","\nvar PieChart = function(portfolio){\n  var container = document.getElementById(\"pieChart\");\n  var investmentData = []\n\n  for(investment of portfolio.investments){\n    var dataItem = {\n    name: investment.share.epic,\n    y: investment.currentValue(),\n    }\n    investmentData.push(dataItem);\n  }\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'pie',\n      renderTo: container\n    },\n    title: {\n      text: \"Investments as proportion of total portfolio value\",\n      style: {\n        \"color\": \"rebeccapurple\",\n        \"text-decoration\": \"underline\",\n        \"font-weight\": \"700\"\n      }\n    },\n    series: [{\n      name: \"Investment\",\n      data: investmentData,\n    }],\n\n  });\n}\n\nmodule.exports = PieChart;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/pieChart.js\n ** module id = 7\n ** module chunks = 0\n **/","var Barry = require('../seedObjects.js')\n\n\nvar SingleScatterChart = function(investment){\n  var container = document.getElementById(\"singleScatterChart\");\n  var chart = new Highcharts.Chart({\n    chart: {\n      type: 'scatter',\n      renderTo: container\n    },\n    title: {\n      text: \"7 Day Performance - \" + investment.shareName,\n      style: {\n        \"text-decoration\": \"underline\",\n        \"font-weight\": \"700\"\n      }\n    },\n    xAxis: {\n      title: {\n        text: \"Previous Week's Days\"\n      },\n      tickAmount: 8,\n      tickInterval: 1\n    },\n    yAxis: {\n      title: {\n        text: \"Value of Share (GBX)\"\n      }\n    },\n    series: [{\n      regression: true ,\n      regressionSettings: {\n        type: 'linear',\n        color:  'rgba(223, 83, 83, .9)',\n        dashStyle: 'ShortDash'\n        },\n        type: \"line\",\n      name: \"Portfolio\",\n      data: [ [1, investment.share.pastCloseOfDayPrices[0]], [2, investment.share.pastCloseOfDayPrices[1]], [3, investment.share.pastCloseOfDayPrices[2]], [4, investment.share.pastCloseOfDayPrices[3]], [5, investment.share.pastCloseOfDayPrices[4]], [6, investment.share.pastCloseOfDayPrices[5]], [7, investment.share.pastCloseOfDayPrices[6]], [8, investment.share.currentPrice] ],\n    }],\n\n  });\n}\n\nmodule.exports = SingleScatterChart;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts/singleScatterChart.js\n ** module id = 8\n ** module chunks = 0\n **/","var Notification = function(notificationArea, params) {\n  this.area = notificationArea;\n  this.title = params.title || 'Notification';\n  this.content = params.content || '';\n  this.type = params.type || 'info';\n  this.time = params.time || new Date();\n  this.element = this.setupElement();\n}\nNotification.prototype = {\n  setupElement: function(){\n    var element = document.createElement('div');\n    element.classList.add('notification-' + this.type);\n    element.innerHTML += '<h2>' + this.title + '</h2>'\n    element.innerHTML += '<p>' + this.content + '</p>' \n    element.appendChild(this.setupCloseButton());\n    return element;\n  },\n  setupCloseButton: function(){\n    var button = document.createElement('span');\n    button.innerText = 'X'; \n    button.onclick = function(){\n      this.destroy();\n    }.bind(this);\n    return button;\n  },\n  destroy: function(){\n    this.area.container.removeChild(this.element);\n    this.area.updateIcon();\n  }\n}\n\nvar NotificationArea = function(){\n  this.container = this.setupContainer();\n  this.showing = false;\n  this.notificationButton = this.setupNotificationButton();\n  this.countContainer = this.notificationButton.getElementsByTagName('span')[0];\n  this.setupScrolling();\n}\nNotificationArea.prototype = {\n  setupContainer: function(){\n    var container = document.createElement('div');\n    container.id = 'notification-container';\n    document.body.appendChild(container); \n    return container;\n  },\n  setupNotificationButton: function(){\n    var button = document.getElementById('notifications');\n    button.onclick = function(){\n      if (this.showing == true){\n        this.hide();\n      } else {\n        this.show();\n      }\n      this.countContainer.className = '';\n    }.bind(this);\n    return button;\n  },\n  setupScrolling: function(){\n    document.onscroll = function(event){\n      var newTop = 96 - window.pageYOffset; //will need changed if header height changes\n      if (newTop < 0) {\n        newTop = 0;\n      }\n      var newHeight = screen.height - newTop;\n      this.container.style.height = newHeight + 'px';\n      this.container.style.top = newTop + 'px';\n    }.bind(this);\n  },\n  newNotification: function(params){\n    var notification = new Notification(this, params);\n    this.container.appendChild(notification.element);\n    this.updateIcon();\n  },\n  updateIcon: function(){\n    var notificationCount = this.container.childNodes.length;\n    var prevCount = Number(this.countContainer.innerText);\n    if (notificationCount > 0) {\n      this.countContainer.innerText = notificationCount;\n    } else {\n      this.countContainer.innerText = '';\n      this.hide();\n    }\n    if (prevCount < notificationCount && this.showing == false) {\n      this.countContainer.className = 'pulse';\n    }\n  },\n  show: function(){\n    this.container.className = 'display-notification-container';\n    this.showing = true;\n  },\n  hide: function(){\n    this.container.className = 'hide-notification-container';\n    this.showing = false;\n  }\n}\n\nmodule.exports = NotificationArea;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/notification.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}